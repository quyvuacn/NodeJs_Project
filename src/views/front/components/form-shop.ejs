<form action="/shop">
    <div class="filter-widget">
        <h4 class="fw-title">Categories</h4>
        <ul class="filter-catagories">
            <% categories.forEach(category => { %>
                <li><a href="/shop/<%= category.name %>"><%= category.name %> </a></li>
            <% }) %>
            
            
        </ul>
    </div>
    <div class="filter-widget">
        <h4 class="fw-title">Brand</h4>
        <div class="fw-brand-check">
            <% brands.forEach(brand => { %>
                <div class="bc-item">
                    <label for="bc-<%= brand.name %>">
                        <%= brand.name %> 
                        <input <%= locals.request.query.brand == brand.id ? 'checked' : ''%>  type="radio" id="bc-<%= brand.name %>" value="<%= brand.id %>" name="brand" onchange="this.form.submit()">
                        <span class="checkmark"></span>
                    </label>
                </div>
            <% }) %>
            
        </div>
    </div>
    <div class="filter-widget">
        <h4 class="fw-title">Price</h4>
        <div class="filter-range-wrap">
            <div class="range-slider">
                <div class="price-input">
                    <input type="text" id="minamount" name="price_min" value="<%= locals.request.query.price_min %>">
                    <input type="text" id="maxamount" name="price_max" value="<%= locals.request.query.price_max %>">
                </div>
            </div>
            <div class="price-range ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content" 
                data-min="0" 
                data-max="100"
                data-min-value = "<%= locals.request.query.price_min?.replace('$','') %>"
                data-max-value = "<%= locals.request.query.price_max?.replace('$','') %>"
            >
                <div class="ui-slider-range ui-corner-all ui-widget-header"></div>
                <span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default"></span>
                <span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default"></span>
            </div>
        </div>
        <button type="submit" style="border: none;" class="filter-btn">Filter</button>
        <button  type="reset"  style="border: none;background-color: #dc3232;" class="filter-btn btn-reset-form">Reset</button>
        <script>
            document.querySelector('.btn-reset-form').addEventListener('click',function(ev){
                ev.preventDefault()
                window.location.href = window.location.origin + window.location.pathname
            })
        </script>
    </div>
</form>
